(function(){"use strict";var t,e,n,s,i,r,o,a,h,l,u,c,p,d,f,_,g,y,m,v,b,T,O,w,k,E,L,x,C,S=function(t,e){return function(){return t.apply(e,arguments)}},A=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},M=[].slice;k=function(t){var e;return d?(console.warn("oriDomi: Browser does not support oriDomi. Missing support for `"+t+"`."),e=!1):void 0},L=function(t){var e,n,s,i;for(s=0,i=b.length;i>s;s++)if(n=b[s],null!=E.style[e=n+a(t)])return e;return null!=E.style[t]?t:!1},n=function(t,e){var n,s,i;s="."+t+"{";for(n in e)i=e[n],n in u&&(n=u[n],n.match(/^(webkit|moz|ms)/i)&&(n="-"+n)),s+=""+n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+":"+i+";";return w+=s+"}"},_=function(t){return""+u.gradientProp+"("+t+", rgba(0, 0, 0, .5) 0%, rgba(255, 255, 255, .35) 100%)"},a=function(t){return t[0].toUpperCase()+t.slice(1)},l=function(t){var e;return e=document.createElement("div"),e.className=f[t],e},h=function(t,e,n){var s;return s=t.cloneNode(e),s.classList.add(f[n]),s},g=function(t){return t.style[u.transform]="translate3d(-9999px, 0, 0)"},O=function(t){return t.style[u.transform]="translate3d(0, 0, 0)"},T=function(t){return function(){var e,n,s,i,r,o;if(this._touchStarted)return t.apply(this,arguments);switch(e=arguments[0],n=arguments[1],s=arguments[2],o={},r=i=null,t.length){case 1:o.callback=e;break;case 2:"function"==typeof e?o.callback=e:(i=e,o.callback=n);break;case 3:r=e,2===arguments.length?"object"==typeof n?o=n:"function"==typeof n?o.callback=n:i=n:3===arguments.length&&(i=n,"object"==typeof s?o=s:"function"==typeof s&&(o.callback=s))}return null==r&&(r=this._lastOp.angle||0),i||(i=this._lastOp.anchor),this._queue.push([t,this._normalizeAngle(r),this._getLonghandAnchor(i),o]),this._step(),this}},p=function(t){return setTimeout(t,0)},v=function(){},t=(null!=(C=window.$)?C.data:void 0)?window.$:null,d=!1,y=!0,s=["left","right","top","bottom"],r=s.slice(0,2),i=s.slice(2),E=document.createElement("div"),b=["Webkit","Moz","ms"],w="",o="oridomi",f={active:"active",clone:"clone",holder:"holder",stage:"stage",stageLeft:"stage-left",stageRight:"stage-right",stageTop:"stage-top",stageBottom:"stage-bottom",content:"content",mask:"mask",maskH:"mask-h",maskV:"mask-v",panel:"panel",panelH:"panel-h",panelV:"panel-v",shader:"shader",shaderLeft:"shader-left",shaderRight:"shader-right",shaderTop:"shader-top",shaderBottom:"shader-bottom"};for(m in f)x=f[m],f[m]=""+o+"-"+x;u=new function(){var t,e,n,s;for(s=["transform","transformOrigin","transformStyle","transitionProperty","transitionDuration","transitionDelay","transitionTimingFunction","perspective","perspectiveOrigin","backfaceVisibility","boxSizing"],e=0,n=s.length;n>e;e++)t=s[e],this[t]=t;return this},function(){var t,e,i,r,o,h,l,c,p;for(e in u)if(o=u[e],u[e]=L(o),!u[e])return k(o),void 0;if(i="preserve-3d",y&&u.transformStyle&&(E.style[u.transformStyle]=i,E.style[u.transformStyle]!==i))return y=!1,k(i),void 0;u.gradientProp=function(){var t,e,n,s;for(n=0,s=b.length;s>n;n++)if(e=b[n],t="-"+e.toLowerCase()+"-linear-gradient",E.style.backgroundImage=""+t+"(left, #000, #fff)",-1!==E.style.backgroundImage.indexOf("gradient"))return t;return"linear-gradient"}(),c=function(){var t,e,n,s,i;for(s=0,i=b.length;i>s;s++)if(n=b[s],e="grab",E.style.cursor=t="-"+n.toLowerCase()+"-"+e,E.style.cursor===t)return[t,"-"+n.toLowerCase()+"-grabbing"];return E.style.cursor=e,E.style.cursor===e?[e,"grabbing"]:["move","move"]}(),u.grab=c[0],u.grabbing=c[1],u.transformProp=function(){var t;return(t=u.transform.match(/(\w+)Transform/i))?"-"+t[1].toLowerCase()+"-transform":"transform"}(),u.transitionEnd=function(){switch(u.transitionProperty.toLowerCase()){case"transitionproperty":return"transitionEnd";case"webkittransitionproperty":return"webkitTransitionEnd";case"moztransitionproperty":return"transitionend";case"mstransitionproperty":return"msTransitionEnd"}}(),n(f.active,{backgroundColor:"transparent",backgroundImage:"none",boxSizing:"border-box",border:"none",outline:"none",position:"relative"}),n(f.clone,{margin:"0"}),n(f.holder,{width:"100%",height:"100%",position:"absolute",transform:"translateY(-100%)"}),n(f.stage,{width:"100%",height:"100%",position:"absolute",transform:"translate3d(-9999px, 0, 0)",margin:"0",padding:"0",transformStyle:i}),p={Left:"0% 50%",Right:"100% 50%",Top:"50% 0%",Bottom:"50% 100%"};for(m in p)x=p[m],n(f["stage"+m],{perspectiveOrigin:x});for(n(f.shader,{width:"100%",height:"100%",position:"absolute",opacity:"0",top:"0",left:"0",pointerEvents:"none",transitionProperty:"opacity"}),h=0,l=s.length;l>h;h++)t=s[h],n(f["shader"+a(t)],{background:_(t)});return n(f.content,{width:"100%",height:"100%",margin:"0",position:"relative",float:"none",boxSizing:"border-box"}),n(f.mask,{width:"100%",height:"100%",position:"absolute",overflow:"hidden",transform:"translate3d(0, 0, 0)",backfaceVisibility:"hidden"}),n(f.panel,{width:"100%",height:"100%",padding:"0",position:"relative",transitionProperty:u.transformProp,transformOrigin:"left",transformStyle:i,backfaceVisibility:"hidden"}),n(f.panelH,{transformOrigin:"top"}),n(""+f.stageRight+" ."+f.panel,{transformOrigin:"right"}),n(""+f.stageBottom+" ."+f.panel,{transformOrigin:"bottom"}),r=document.createElement("style"),r.type="text/css",r.styleSheet?r.styleSheet.cssText=w:r.appendChild(document.createTextNode(w)),document.head.appendChild(r)}(),c={vPanels:3,hPanels:3,perspective:1e3,shading:"hard",speed:700,maxAngle:90,ripple:!1,oriDomiClass:"oridomi",shadingIntensity:1,easingMethod:"",forceAntialiasing:!1,touchEnabled:!0,touchSensitivity:.25,touchStartCallback:v,touchMoveCallback:v,touchEndCallback:v},e=function(){function e(n,o){var p,_,v,b,T,w,k,E,L,C,M,D,z,P,F,H,U,R,N,I,q,V,B,$,Y,j,X,Q,Z,W,G,J,K,te,ee,ne,se,ie,re,oe;if(this.el=n,null==o&&(o={}),this._onMouseOut=S(this._onMouseOut,this),this._onTouchLeave=S(this._onTouchLeave,this),this._onTouchEnd=S(this._onTouchEnd,this),this._onTouchMove=S(this._onTouchMove,this),this._onTouchStart=S(this._onTouchStart,this),this._stageReset=S(this._stageReset,this),this._conclude=S(this._conclude,this),this._onTransitionEnd=S(this._onTransitionEnd,this),this._step=S(this._step,this),y){if(!(this instanceof e))return function(t,e,n){n.prototype=t.prototype;var s=new n,i=t.apply(s,e);return Object(i)===i?i:s}(e,arguments,function(){});if("string"==typeof this.el&&(this.el=document.querySelector(this.el)),!this.el||1!==this.el.nodeType)return d&&console.warn("oriDomi: First argument must be a DOM element"),void 0;for(this._settings=new function(){for(m in c)x=c[m],this[m]=null!=o[m]?o[m]:x;return this},this._queue=[],this._panels={},this._stages={},this._lastOp={anchor:s[0]},this._xLast=this._yLast=0,this._shading=this._settings.shading,this._shading&&(this._shaders={},I={},N=l("shader"),N.style[u.transitionDuration]=this._settings.speed+"ms",N.style[u.transitionTimingFunction]=this._settings.easingMethod),V=l("stage"),V.style[u.perspective]=this._settings.perspective+"px",B=0,X=s.length;X>B;B++)if(_=s[B],this._panels[_]=[],this._stages[_]=h(V,!1,"stage"+a(_)),this._shading){if(this._shaders[_]={},A.call(r,_)>=0)for($=0,Q=r.length;Q>$;$++)q=r[$],this._shaders[_][q]=[];else for(Y=0,Z=i.length;Z>Y;Y++)q=i[Y],this._shaders[_][q]=[];I[_]=h(N,!1,"shader"+a(_))}for(k=h(this.el,!0,"content"),M=l("mask"),M.appendChild(k),H=l("panel"),H.style[u.transitionDuration]=this._settings.speed+"ms",H.style[u.transitionTimingFunction]=this._settings.easingMethod,oe=["x","y"],j=0,W=oe.length;W>j;j++){for(b=oe[j],"x"===b?(v=r,E=this._settings.vPanels,D="width",T="V"):(v=i,E=this._settings.hPanels,D="height",T="H"),U=100/E,C=h(M,!0,"mask"+T),C.children[0].style[D]=100*E+"%",ee=0,G=v.length;G>ee;ee++)_=v[ee],C.appendChild(I[_]);for(R=h(H,!1,"panel"+T),R.appendChild(C),z=ne=0,J=v.length;J>ne;z=++ne){for(_=v[z],F=se=0;E>=0?E>se:se>E;F=E>=0?++se:--se){if(P=R.cloneNode(!0),0===F&&(P.style[D]=U+"%"),w=P.children[0].children[0],0===z?(w.style[_]=100*-F+"%",P.style[_]=0===F?"0":"100%"):(w.style[v[0]]=-100*(E-F-1)+"%",P.style[u.origin]=_,P.style[v[0]]=0===F?100-U+"%":"-100%"),this._shading)for(L=ie=0,K=v.length;K>ie;L=++ie)p=v[L],this._shaders[_][p][F]=P.children[0].children[L+1];this._panels[_][F]=P,0!==F&&this._panels[_][F-1].appendChild(P)}this._stages[_].appendChild(this._panels[_][0])}}for(this._stageHolder=l("holder"),re=0,te=s.length;te>re;re++)_=s[re],this._stageHolder.appendChild(this._stages[_]);this.el.classList.add(f.active),O(this._stages.left),g(this.cloneEl=this.el.cloneNode(!0)),this.el.innerHTML="",this.el.appendChild(this.cloneEl),this.el.appendChild(this._stageHolder),t&&(this.$el=t(this.el)),this.accordion(0),this._settings.touchEnabled&&this.enableTouch()}}return e.prototype._step=function(){var t,e,n,s,i,r,o=this;if(!this._inTrans&&this._queue.length)return this._inTrans=!0,r=this._queue.shift(),n=r[0],e=r[1],t=r[2],i=r[3],this.isFrozen&&this.unfreeze(),s=function(){var s;return o._setCallback({angle:e,anchor:t,options:i,fn:n}),s=[e,t,i],n.length<3&&s.shift(),n.apply(o,s)},this.isFoldedUp?this._unfold(s):t!==this._lastOp.anchor?this._stageReset(t,s):s()},e.prototype._isIdenticalOperation=function(t){var e,n,s,i,r;if(!this._lastOp.fn)return!0;if(this._lastOp.reset)return!1;for(i=["angle","anchor","fn"],n=0,s=i.length;s>n;n++)if(e=i[n],this._lastOp[e]!==t[e])return!1;r=t.options;for(m in r)if(x=r[m],x!==this._lastOp.options[m]&&"callback"!==m)return!1;return!0},e.prototype._setCallback=function(t){return this._isIdenticalOperation(t)?this._conclude(t.options.callback):this._panels[this._lastOp.anchor][0].addEventListener(u.transitionEnd,this._onTransitionEnd,!1),(this._lastOp=t).reset=!1},e.prototype._onTransitionEnd=function(t){return t.currentTarget.removeEventListener(u.transitionEnd,this._onTransitionEnd,!1),this._conclude(this._lastOp.options.callback)},e.prototype._conclude=function(t){var e=this;return p(function(){return e._inTrans=!1,e._step(),"function"==typeof t?t():void 0})},e.prototype._transform=function(t,e,n){var s,i;switch(e){case"left":s=[0,t,0],i="X(-1";break;case"right":s=[0,-t,0],i="X(1";break;case"top":s=[-t,0,0],i="Y(-1";break;case"bottom":s=[t,0,0],i="Y(1"}return n&&(s=[t,t,t]),"rotateX("+s[0]+"deg) rotateY("+s[1]+"deg) rotateZ("+s[2]+"deg) translate"+i+"px)"},e.prototype._normalizeAngle=function(t){var e;return t=parseFloat(t,10),e=this._settings.maxAngle,isNaN(t)?0:t>e?e:-e>t?-e:t},e.prototype._setTrans=function(t,e){var n=this;return this._iterate(this._lastOp.anchor,function(s,i,r){return n._setPanelTrans.apply(n,M.call(arguments).concat([t],[e]))})},e.prototype._setPanelTrans=function(t,e,n,s,o){var a,h,l,c,p,d,f=this;if(a=this._lastOp.anchor,h=function(){switch(o){case 0:return 0;case 1:return f._settings.speed/n*(n-e-1);case 2:return f._settings.speed/n*e}}(),t.style[u.transitionDuration]=s+"ms",t.style[u.transitionDelay]=h+"ms",this._shading)for(d=A.call(r,a)>=0?r:i,c=0,p=d.length;p>c;c++)l=d[c],this._shaders[a][l][e].style[u.transitionDuration]=s+"ms",this._shaders[a][l][e].style[u.transitionDelay]=h+"ms";return h},e.prototype._setShader=function(t,e,n){var s,i,o,a;return i=Math.abs(n),a=i/90*this._settings.shadingIntensity,"hard"===this._shading?(a*=.15,n=this._lastOp.angle<0?i:-i):a*=.4,A.call(r,e)>=0?(0>n?(s=a,o=0):(s=0,o=a),this._shaders[e].left[t].style.opacity=s,this._shaders[e].right[t].style.opacity=o):(0>n?(s=0,o=a):(s=a,o=0),this._shaders[e].top[t].style.opacity=s,this._shaders[e].bottom[t].style.opacity=o)},e.prototype._showStage=function(t){var e=this;return t!==this._lastOp.anchor?(g(this._stages[this._lastOp.anchor]),this._lastOp.anchor=t,this._lastOp.reset=!0,this._stages[t].style[u.transform]="translate3d("+function(){switch(t){case"left":return"0, 0, 0)";case"right":return"-"+1*e._settings.vPanels+"px, 0, 0)";case"top":return"0, 0, 0)";case"bottom":return"0, -"+1*(e._settings.hPanels+2)+"px, 0)"}}()):void 0},e.prototype._stageReset=function(t,e){var n,s=this;return n=function(i){return i&&i.currentTarget.removeEventListener(u.transitionEnd,n,!1),s._showStage(t),p(e)},0===this._lastOp.angle?n():(this._panels[this._lastOp.anchor][0].addEventListener(u.transitionEnd,n,!1),this._iterate(this._lastOp.anchor,function(t,e){return t.style[u.transform]=s._transform(0,s._lastOp.anchor),s._shading?s._setShader(e,s._lastOp.anchor,0):void 0}),this)},e.prototype._getLonghandAnchor=function(t){switch(t.toString()){case"left":case"l":case"4":return"left";case"right":case"r":case"2":return"right";case"top":case"t":case"1":return"top";case"bottom":case"b":case"3":return"bottom";default:return"left"}},e.prototype._setCursor=function(t){return null==t&&(t=this._touchEnabled),this._stageHolder.style.cursor=t?u.grab:"default"},e.prototype._setTouch=function(t){var e,n,s,i,r,o,a,h,l;if(t){if(this._touchEnabled)return this;i="addEventListener"}else{if(!this._touchEnabled)return this;i="removeEventListener"}this._touchEnabled=t,this._setCursor(),s=[["TouchStart","MouseDown"],["TouchEnd","MouseUp"],["TouchMove","MouseMove"],["TouchLeave","MouseLeave"]],r="onmouseleave"in window;for(o=0,h=s.length;h>o;o++)for(n=s[o],a=0,l=n.length;l>a;a++){if(e=n[a],"TouchLeave"===e&&!r){this._stageHolder[i]("mouseout",this._onMouseOut,!1);break}this._stageHolder[i](e.toLowerCase(),this["_on"+n[0]],!1)}return this},e.prototype._onTouchStart=function(t){var e,n;if(this._touchEnabled&&!this.isFoldedUp)return t.preventDefault(),this.emptyQueue(),this._touchStarted=!0,this._stageHolder.style.cursor=u.grabbing,this._setTrans(0,0),this._touchAxis=(n=this._lastOp.anchor,A.call(r,n)>=0?"x":"y"),this["_"+this._touchAxis+"Last"]=this._lastOp.angle,e="_"+this._touchAxis+"1",this[e]="mousedown"===t.type?t["page"+this._touchAxis.toUpperCase()]:t.targetTouches[0]["page"+this._touchAxis.toUpperCase()],this._settings.touchStartCallback(this[e])},e.prototype._onTouchMove=function(t){var e,n,s;if(this._touchEnabled&&this._touchStarted)return t.preventDefault(),e="mousemove"===t.type?t["page"+this._touchAxis.toUpperCase()]:t.targetTouches[0]["page"+this._touchAxis.toUpperCase()],s=(e-this["_"+this._touchAxis+"1"])*this._settings.touchSensitivity,this._lastOp.angle<0?(n="right"===this._lastOp.anchor||"bottom"===this._lastOp.anchor?this["_"+this._touchAxis+"Last"]-s:this["_"+this._touchAxis+"Last"]+s,n>0&&(n=0)):(n="right"===this._lastOp.anchor||"bottom"===this._lastOp.anchor?this["_"+this._touchAxis+"Last"]+s:this["_"+this._touchAxis+"Last"]-s,0>n&&(n=0)),n=this._normalizeAngle(n),this._lastOp.angle=n,this._lastOp.fn.call(this,n,this._lastOp.anchor,this._lastOp.options),this._settings.touchMoveCallback(n)},e.prototype._onTouchEnd=function(){return this._touchEnabled?(this._touchStarted=this._inTrans=!1,this._stageHolder.style.cursor=u.grab,this._setTrans(this._settings.speed,0),this._settings.touchEndCallback(this["_"+this._touchAxis+"Last"])):void 0},e.prototype._onTouchLeave=function(){return this._touchEnabled&&this._touchStarted?this._onTouchEnd():void 0},e.prototype._onMouseOut=function(t){return this._touchEnabled&&this._touchStarted?t.toElement&&!this.el.contains(t.toElement)?this._onTouchEnd():void 0:void 0},e.prototype._unfold=function(t){var e=this;return this.isFoldedUp?(this._inTrans=!0,this._iterate(this._lastOp.anchor,function(n,s,i){var r;return r=e._setPanelTrans.apply(e,M.call(arguments).concat([e._settings.speed],[2])),function(n,s,r){return p(function(){return n.style[u.transform]=e._transform(0,e._lastOp.anchor),setTimeout(function(){return O(n.children[0]),s===i-1&&(e._inTrans=e.isFoldedUp=!1,"function"==typeof t&&t(),e._lastOp.fn=e.accordion),p(function(){return n.style[u.transitionDuration]=e._settings.speed})},r+.25*e._settings.speed)})}(n,s,r)})):"function"==typeof t?t():void 0},e.prototype._iterate=function(t,e){var n,s,i,r,o,a,h;for(a=i=this._panels[t],h=[],n=r=0,o=a.length;o>r;n=++r)s=a[n],h.push(e.call(this,s,n,i.length));return h},e.prototype.setSpeed=function(t){return this._setTweening(this._settings.speed=t,0)},e.prototype.freeze=function(t){var e=this;return this.isFrozen?"function"==typeof t&&t():this._stageReset(this._lastOp.anchor,function(){return e.isFrozen=!0,g(e._stageHolder),O(e.cloneEl),e.el.classList.remove(f.active),e._setCursor(!1),"function"==typeof t?t():void 0}),this},e.prototype.unfreeze=function(){return this.isFrozen&&(this.isFrozen=!1,g(this.cloneEl),O(this._stageHolder),this.el.classList.add(f.active),this._setCursor(),this._lastOp.angle=0),this},e.prototype.destroy=function(e){var n=this;return this.freeze(function(){return n._setTouch(!1),t&&t.data(n.el,o,null),n.el.innerHTML=n.cloneEl.innerHTML,n.el.classList.remove(f.active),"function"==typeof e?e():void 0}),null},e.prototype.emptyQueue=function(){var t=this;return this._queue=[],p(function(){return t._inTrans=!1}),this},e.prototype.enableTouch=function(){return this._setTouch(!0)},e.prototype.disableTouch=function(){return this._setTouch(!1)},e.prototype.constrainAngle=function(t){return this._settings.maxAngle=parseFloat(t,10)||c.maxAngle,this},e.prototype.wait=function(t){var e,n=this;return e=function(){return setTimeout(n._conclude,t)},this._inTrans?this._queue.push([e,this._lastOp.angle,this._lastOp.anchor,this._lastOp.options]):e(),this},e.prototype.accordion=T(function(t,e,n){var s=this;return this._iterate(e,function(i,r){var o;return o=0===r%2||n.twist?t:-t,n.sticky?0===r?o=0:(r>1||n.stairs)&&(o*=2):0!==r&&(o*=2),n.stairs&&(o*=-1),i.style[u.transform]=s._transform(o,e,n.fracture),!s._shading||0===r&&n.sticky||180===Math.abs(o)?void 0:s._setShader(r,e,o)})}),e.prototype.curl=T(function(t,e,n){var s=this;return t/=A.call(r,e)>=0?this._settings.vPanels:this._settings.hPanels,this._iterate(e,function(n,i){return n.style[u.transform]=s._transform(t,e),s._shading?s._setShader(i,e,0):void 0})}),e.prototype.ramp=T(function(t,e,n){var s=this;return this._panels[e][1].style[u.transform]=this._transform(t,e),this._iterate(e,function(t,n){return n>1&&(s._panels[e][n].style[u.transform]=s._transform(0,e)),s._shading?s._setShader(n,e,0):void 0})}),e.prototype.foldUp=T(function(t,e){var n=this;return this._stageReset(t,function(){return n.isFoldedUp?"function"==typeof e?e():void 0:(n._inTrans=n.isFoldedUp=!0,n._iterate(t,function(s,i,r){var o,a;return a=n._settings.speed,0===i&&(a/=2),o=n._setPanelTrans.apply(n,M.call(arguments).concat([a],[1])),function(s,i,r){return p(function(){return s.style[u.transform]=n._transform(0===i?90:170,t),setTimeout(function(){return 0===i?(n._inTrans=!1,"function"==typeof e?e():void 0):g(s.children[0])},r+.25*n._settings.speed)})}(s,i,o)}))})}),e.prototype.unfold=T(function(t){return this._unfold.apply(this,arguments)}),e.prototype.reset=function(t){return this.accordion(0,{callback:t})},e.prototype.collapse=function(t,e){return null==e&&(e={}),e.sticky=!1,this.accordion(-90,t,e)},e.prototype.collapseAlt=function(t,e){return null==e&&(e={}),e.sticky=!1,this.accordion(90,t,e)},e.prototype.reveal=function(t,e,n){return null==n&&(n={}),n.sticky=!0,this.accordion(t,e,n)},e.prototype.stairs=function(t,e,n){return null==n&&(n={}),n.stairs=n.sticky=!0,this.accordion(t,e,n)},e.prototype.fracture=function(t,e,n){return null==n&&(n={}),n.fracture=!0,this.accordion(t,e,n)},e.prototype.twist=function(t,e,n){return null==n&&(n={}),n.fracture=n.twist=!0,this.accordion(t/10,e,n)},e.VERSION="0.3.0",e.isSupported=y,e.devMode=function(){return d=!0},e}(),window.OriDomi=e,("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=e),t&&(t.prototype.oriDomi=function(n){var s,i,r,a,h,l,u,c;if(!y)return this;if("string"==typeof n){if(a=n,"function"!=typeof e.prototype[a])return d&&console.warn("oriDomi: No such method '"+a+"'"),this;for(s=Array.prototype.slice.call(arguments),s.shift(),h=0,u=this.length;u>h;h++){if(i=this[h],!(r=t.data(i,o)))return d&&console.warn("oriDomi: Can't call "+a+", oriDomi hasn't been initialized on this element"),this;r[a](s)}return this}for(l=0,c=this.length;c>l;l++){if(i=this[l],r=t.data(i,o))return r;t.data(i,o,new e(i,n))}return this})}).call(this);